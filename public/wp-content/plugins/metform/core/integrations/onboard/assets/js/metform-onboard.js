jQuery(document).ready((function(t){"use strict";var e;if(t(".mf-admin-single-accordion").on("click",".mf-admin-single-accordion--heading",(function(){t(this).next().slideToggle().parent().toggleClass("active").siblings().removeClass("active").find(".mf-admin-single-accordion--body").slideUp()})),t(".mf-admin-single-accordion:first-child .mf-admin-single-accordion--heading").trigger("click"),t(".mf-admin-video-tutorial-item, .mf-onboard-tutorial--btn").on("click","a",(function(e){var a=t(this).data("video_id");a&&(e.preventDefault(),t(".mf-admin-video-tutorial-popup").toggleClass("show").find(".mf-admin-video-tutorial-iframe").html('<iframe width="700" height="400" src="https://www.youtube.com/embed/'+a+'?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'))})),t(".mf-admin-video-tutorial-close").on("click",(function(){t(this).parents(".mf-admin-video-tutorial-popup").removeClass("show").find(".mf-admin-video-tutorial-iframe").html("")})),t(".mf-admin-nav-link[data-attr-toggle]").on("click",(function(){var e=t(this),a=this.hash;e.parents(".attr-nav-tabs").find("a").removeClass("top").removeClass("bottom"),e.parents("li").prev().find("a").addClass("top"),e.parents("li").next().find("a").addClass("bottom"),history.pushState(null,null,a)})),(e=window.location.hash)&&t("".concat(e,"-tab")).trigger("click"),t("#v-elementskit-tabContent").length>0){var a=t("#v-elementskit-tabContent").offset().top;t(window).scroll((function(){var e=t(".mf-admin-section-header");t(window).scrollTop()>=a?e.addClass("fixed").css({width:jQuery("#v-elementskit-tabContent").width()}):e.removeClass("fixed").css({width:"auto"})}))}function n(e){var a=t(".mf-onboard-main-header--progress-percentage"),n=t(".mf-onboard-main-header--progress"),i=Math.round(Math.min(100,Math.max(0,e))),o=parseInt(a.text())||0;t({percent:o}).animate({percent:i},{duration:500,step:function(t){a.text(Math.round(t)+"%")}}),n.stop().animate({width:i+"%"},500)}function i(e){var a='\n\t\t<div class="configure-features--item">\n\t\t\t<div class="configure-features--wrapper">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" fill="none">\n\t\t\t\t\t<rect width="22" height="22" rx="11" fill="#0FA20C" fill-opacity="0.1" />\n\t\t\t\t\t<path d="M15.4 8L9.35 14.02L6.6 11.27" stroke="#0FA20C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t</svg>\n\t\t\t\t<span>'.concat(e,"</span>\n\t\t\t</div>\n\t\t</div>");t(a).hide().appendTo(".configure-features").slideDown(300)}function o(e){var a=e.closest(".attr-tab-pane"),n=t(a).find(".mf-admin-fields-container-fieldset"),i=n.find(".mf-admin-control-input:checked").length==n.find(".mf-admin-control-input:not(:disabled)").length;t(a).find(".mf-all-control-input").prop("checked",i)}function s(e,a){var n=e.getAttribute("aria-controls"),i=document.getElementById("".concat(n));a?(t(i).removeClass("attr-in"),i.style.height="0px",e.style.pointerEvents="none"):(i.style.height="auto",e.style.pointerEvents="auto","mail_chimp_data_control"===n&&t(i).addClass("attr-in"))}function r(e){var a=e.value,n=t(".label-".concat(a)),i=n.find(".attr-btn");t(e).prop("checked")?n.removeClass("widget-disabled"):n.addClass("widget-disabled");var o=document.createElement("small");if(o.setAttribute("class","attr-widget-activate-text"),o.setAttribute("id","disable-msg-".concat(a)),o.textContent="Disabled",n.hasClass("widget-disabled"))i.hasClass("attr-btn")&&(n.hasClass("pro-disabled")||(i[0].setAttribute("aria-expanded",!1),i[0].appendChild(o)),s(i[0],!0));else if(i.hasClass("attr-btn")){"mail-chimp"===a&&i[0].setAttribute("aria-expanded",!0);var r=document.getElementById("disable-msg-".concat(a));r&&r.parentNode.removeChild(r),s(i[0],!1)}}t(window).on("configureMfOnboard",(function(e){var a=t("#mf-admin-settings-form"),o=a.serialize();a.find(".mf-onboard-nav li").attr("disabled",!0).css("pointer-events","none"),o+="&nonce="+mf_ajax_var.nonce,t.post(ajaxurl+"?action=mf_admin_action",o,(function(e){var a;Array.isArray(e.plugins)&&e.plugins.length>0&&null!==(a=navigator)&&void 0!==a&&a.onLine?(n(e.progress),function(e){var a=e.length,o=0;function s(){if(0===e.length)return console.log("✅ All plugins installed"),void t(".go-to-dashboard").fadeIn(300);var r=e.shift();t.post(ajaxurl,{action:"mf_onboard_plugins",plugin_slug:r,nonce:mf_ajax_var.nonce},(function(t){var e,l;t.success?(n(++o/a*100),i(null==t||null===(e=t.data)||void 0===e?void 0:e.message)):console.error("❌ Failed to install: ".concat(r),(null===(l=t.data)||void 0===l?void 0:l.message)||""),s()}))}s()}(e.plugins),i(null==e?void 0:e.message)):(n(100),i(null==e?void 0:e.message),t(".go-to-dashboard").fadeIn(700))}))})),t("#mf-admin-settings-form").on("submit",(function(e){var a=t(this),n=a.find(".mf-admin-settings-form-submit"),i=a.serialize();a.addClass("is-loading"),n.attr("disabled",!0),n.find(".mf-admin-save-icon").hide(),i+="&nonce="+mf_ajax_var.nonce,t.post(ajaxurl+"?action=mf_admin_action",i,(function(e){var i,o,s,r;a.removeClass("is-loading"),n.removeAttr("disabled"),n.find(".mf-admin-save-icon").fadeIn(),i=t("#mf-admin-switch__module__list____header-footer").prop("checked"),o=t("#elementskit-template-admin-menu").html(),s=t("#toplevel_page_elementskit .wp-submenu"),r=s.find('a[href="edit.php?post_type=elementskit_template"]'),1==i?r.length>0||"y"==s.attr("item-added")?r.parent().show():(s.find("li.wp-first-item").after(o),s.attr("item-added","y")):r.parent().hide(),function(){var e=t("#mf-admin-switch__module__list____widget-builder").prop("checked"),a=t("#elementskit-template-widget-menu").html(),n=t("#toplevel_page_elementskit .wp-submenu"),i=n.find('a[href="edit.php?post_type=elementskit_widget"]');1==e?i.length>0||"y"==n.attr("item-added")?i.parent().show():(n.find("li.wp-first-item").next().after(a),n.attr("item-added","y")):i.parent().hide()}(),n.hasClass("mf-onboard-btn")&&(window.location.href=window.location.origin+window.location.pathname+"?page=metform-menu-settings")})),e.preventDefault()})),t("#mf-admin-license-form").on("submit",(function(e){var a=t(this),n=a.find(".mf-admin-license-form-submit"),i=a.serialize(),o=a.find(".elementskit-license-form-result .attr-alert");a.addClass("is-loading"),n.find(".mf-admin-save-icon").hide(),i+="&nonce="+mf_ajax_var.nonce,t.post(ajaxurl+"?action=mf_admin_license",i,(function(t){a.removeClass("is-loading"),n.removeAttr("disabled"),n.find(".mf-admin-save-icon").fadeIn(),o.attr("class","attr-alert attr-alert-"+t.status).html(t.message),1==t.validate&&setTimeout((function(){window.location.reload()}),2e3)}),"json"),e.preventDefault()})),t(".mf-zoom-connection").on("click",(function(e){e.preventDefault();var a=t(this);a.attr("disabled",!0),jQuery.ajax({data:{},type:"post",url:window.rest_config.rest_url+"elementskit/v1/zoom-meeting/hosts/",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",window.rest_config.nonce)},success:function(t){alert(t.message),a.attr("disabled",!1)}})})),t("#mf_instagram_refresh_feed_btn").on("click",(function(e){e.preventDefault();var a=elementskit.resturl+"widget/instagram-feed/refresh_feed",n=t("#mf-admin-option-textuser__data__instragram____username__").val();t.get("https://www.instagram.com/"+n+"/?__a=1",(function(e){t.ajax({type:"POST",url:a,data:{content:e},success:function(t){alert("Instagram data refreshed")},error:function(t){alert("Instagram data refreshed")}})}))})),t(".cache_clean_social_provider").on("click",(function(e){e.preventDefault();var a=t(this),n=a.data("provider"),i=a.data("url_part"),o=elementskit.resturl+"widget/"+i+"/remove_cache";a.attr("disabled",!0),t.ajax({type:"POST",url:o,data:{provider_id:n},success:function(t){a.attr("disabled",!1),alert(t.msg)},error:function(t){a.attr("disabled",!0),alert("Something wrong.....")}})})),document.querySelectorAll(".mf-admin-control-input").forEach((function(t){r(t)})),t(".mf-all-control-input").each((function(t,e){o(e)})),t(".mf-admin-fields-container-fieldset .mf-admin-control-input").on("change",(function(t){o(t.target),r(t.target)})),t(".mf-all-control-input").on("change",(function(e){var a=t(e.target).closest(".attr-tab-pane").find(".mf-admin-fields-container")[0];t(a).find(".mf-admin-control-input:not(:disabled)").each((function(a,n){t(n).prop("checked",e.target.checked),r(n)}))})),t(".mf-onboard-step-wrapper #signup").on("input",(function(){var e,a,n;e=t(this),n=e,t(".error").remove(),!n.length||(a=n.val(),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(a))||n.parent().after('<p class="error">Please enter valid email.</p>')})),t(document).on("click",".mf-onboard-select-all-next-btn",(function(e){e.preventDefault(),t(".mf-onboard-single-plugin--input:not(:checked)").prop("checked",!0)})),t(".mf-onboard-step-wrapper #signup").on("keydown",(function(t){"Enter"==t.key&&t.preventDefault()})),t(".mf-onboard-nav-item").on("click",(function(){if(t(this).index()>1&&!t(this).hasClass("next")&&!t(this).hasClass("selected"))return!1;t(this).hasClass("next")&&t(".mf-onboard-step-wrapper.active #signup"),t(this).next().addClass("next").siblings().removeClass("next"),t(this).removeClass("selected"),t(this).addClass("active").siblings().removeClass("active"),t(this).prevAll().addClass("selected").end().nextAll().removeClass("selected");var e=t(this).data("step_key"),a=t(this).parents(".mf-onboard-nav"),n=a.offset().left,i=t(this).hasClass("last")?a.width():t(this).offset().left-n+t(this).outerWidth();t(".mf-onboard-progressbar").css("width",i),t(".mf-onboard-"+e).addClass("active").siblings().removeClass("active")})),t(".mf-onboard-nav-item:first-of-type").trigger("click"),t(".mf-onboard-pagi-btn").on("click",(function(e){t(this).hasClass("next")&&t(".mf-onboard-nav-item.active").next().trigger("click"),t(this).hasClass("prev")&&t(".mf-onboard-nav-item.active").prev().trigger("click")}));var l=["elementskit-icon-pack","header-footer","megamenu","button","heading","category-list","post-list","page-list","nav-menu","accordion","header-info","header-search","icon-box","image-box","client-logo","faq","funfact","testimonial","social","video","blog-posts","pricing","team","tab","header-offcanvas"],d=["ninja-forms","wp-forms","we-forms","social-share","drop-caps","caldera-forms","onepage-scroll","contact-form7","fluent-forms"];function c(e,a,n,i){var o=this;t.ajax({type:"GET",url:e,beforeSend:function(){t(o).addClass("mf-plugin-install-activate"),n&&t(o).html(n)},success:function(n){t(o).removeClass("mf-plugin-install-activate"),e.indexOf("action=activate")>=0&&t(o).addClass("activated"),t(o).html(i),a&&a()}})}t(".mf-admin-input-radio .mf-admin-control-input").on("change",(function(e,a){var n=t(".mf-onboard-section .attr-input:not(.mf-content-type-pro-disabled)"),i=n.find(".mf-admin-control-input");if(t(".mf-admin-input-radio .mf-admin-input-switch").removeClass("active"),t(this).parent().addClass("active"),a&&"hold"===a)return!1;i.prop("checked",!1),"basic"==t(this).val()?l.forEach((function(t){n.find('.mf-admin-control-input[value="'+t+'"]').prop("checked",!0)})):"advanced"==t(this).val()?i.each((function(){-1==d.indexOf(t(this).val())?t(this).prop("checked",!0):t(this).prop("checked",!1)})):i.prop("checked",!0)})),jQuery(".mf-admin-input-radio .mf-admin-control-input:checked").trigger("change"),t(".mf-onboard-section .mf-admin-control-input").on("change",(function(){"custom"!=t(".mf-admin-input-radio .mf-admin-control-input").val()&&(t(".mf-onboard-custom-filter .mf-admin-control-input").prop("checked",!0),t(".mf-onboard-custom-filter .mf-admin-control-input").trigger("change","hold"))})),t(".mf-onboard-single-plugin--install_plugin").on("click",(function(e){var a=this;e.preventDefault();var n=t(this).attr("href"),i=t(this).attr("data-activation_url"),o=t(this).data("plugin_status");if(t(this).hasClass("mf-plugin-install-activate")||t(this).hasClass("activated"))return!1;"not_installed"==o?c.call(this,n,(function(){c.call(a,i,null,"Activating...","Activated")}),"Installing...","Installed"):"installed"==o&&c.call(this,i,null,"Activating...","Activated")})),jQuery(".mf-onboard-tut-term--help").on("click",(function(){t(this).toggleClass("active").prev().toggleClass("active")}))}));